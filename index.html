<!-- Encrypted HTML -->
<script>
document.write(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+Ti1IQUNLRVIgLSBVUkwgU2hvcnRlbmVyPC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgICAqIHsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgICAgICBmb250LWZhbWlseTogJ0NvdXJpZXIgTmV3JywgbW9ub3NwYWNlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBib2R5IHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzBhMGEwYTsKICAgICAgICAgICAgY29sb3I6ICMwMGZmMDA7CiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoOwogICAgICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47CiAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IAogICAgICAgICAgICAgICAgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAxMCUgMjAlLCByZ2JhKDAsIDI1NSwgMCwgMC4wNSkgMCUsIHRyYW5zcGFyZW50IDIwJSksCiAgICAgICAgICAgICAgICByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDkwJSA4MCUsIHJnYmEoMCwgMjU1LCAwLCAwLjA1KSAwJSwgdHJhbnNwYXJlbnQgMjAlKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNvbnRhaW5lciB7CiAgICAgICAgICAgIG1heC13aWR0aDogOTAwcHg7CiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgIH0KICAgICAgICAKICAgICAgICBoZWFkZXIgewogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIHBhZGRpbmc6IDQwcHggMDsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBoMSB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogM3JlbTsKICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDRweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDAgMCAxMHB4ICMwMGZmMDA7CiAgICAgICAgICAgIGFuaW1hdGlvbjogZ2xvdyAycyBpbmZpbml0ZSBhbHRlcm5hdGU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIEBrZXlmcmFtZXMgZ2xvdyB7CiAgICAgICAgICAgIGZyb20gewogICAgICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDAgMCA1cHggIzAwZmYwMDsKICAgICAgICAgICAgfQogICAgICAgICAgICB0byB7CiAgICAgICAgICAgICAgICB0ZXh0LXNoYWRvdzogMCAwIDIwcHggIzAwZmYwMCwgMCAwIDMwcHggIzAwZmYwMDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAudGFnbGluZSB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4ycmVtOwogICAgICAgICAgICBjb2xvcjogIzAwY2MwMDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLm1hdHJpeC1iZyB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgdG9wOiAwOwogICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICB6LWluZGV4OiAtMTsKICAgICAgICAgICAgb3BhY2l0eTogMC4xOwogICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnVybC1mb3JtIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAyMCwgMCwgMC43KTsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzAwZmYwMDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgICAgICBwYWRkaW5nOiAzMHB4OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMTVweCByZ2JhKDAsIDI1NSwgMCwgMC4yKTsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNDBweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmZvcm0tZ3JvdXAgewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgIH0KICAgICAgICAKICAgICAgICBsYWJlbCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBpbnB1dFt0eXBlPSJ1cmwiXSB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE1cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDA7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMGFhMDA7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgY29sb3I6ICMwMGZmMDA7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlucHV0W3R5cGU9InVybCJdOmZvY3VzIHsKICAgICAgICAgICAgb3V0bGluZTogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjMDBmZjAwOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDAsIDI1NSwgMCwgMC41KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgYnV0dG9uIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMzMwMDsKICAgICAgICAgICAgY29sb3I6ICMwMGZmMDA7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMGFhMDA7CiAgICAgICAgICAgIHBhZGRpbmc6IDEycHggMjVweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7CiAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7CiAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAxcHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBidXR0b246aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1NTAwOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDAsIDI1NSwgMCwgMC41KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyogRnVsbCB3aWR0aCBTSE9SVEVOIGJ1dHRvbiAqLwogICAgICAgICNzaG9ydGVuLWJ0biB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBmb250LXNpemU6IDEuMXJlbTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnJlc3VsdCB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMjAsIDAsIDAuNSk7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IGRhc2hlZCAjMDBhYTAwOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5yZXN1bHQgaDMgewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgICAgICBjb2xvcjogIzAwY2MwMDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgI3Nob3J0LXVybCB7CiAgICAgICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDsKICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICBmb250LXNpemU6IDEuMXJlbTsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNvcHktYnRuIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMjIwMDsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnJlY2VudC1saW5rcyB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMjAsIDAsIDAuNyk7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMGZmMDA7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgcGFkZGluZzogMzBweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDE1cHggcmdiYSgwLCAyNTUsIDAsIDAuMik7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDQwcHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5yZWNlbnQtbGlua3MgaDIgewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgICAgICBjb2xvcjogIzAwY2MwMDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAubGlua3MtbGlzdCB7CiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDMwMHB4OwogICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAubGluay1pdGVtIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE1cHg7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMDAzMzAwOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3M7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5saW5rLWl0ZW06aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDUwLCAwLCAwLjMpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAubGluay11cmxzIHsKICAgICAgICAgICAgZmxleC1ncm93OiAxOwogICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5vcmlnaW5hbC11cmwgewogICAgICAgICAgICBjb2xvcjogIzAwYWEwMDsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjlyZW07CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDVweDsKICAgICAgICAgICAgd29yZC1icmVhazogYnJlYWstYWxsOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuc2hvcnRlbmVkLXVybCB7CiAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgd29yZC1icmVhazogYnJlYWstYWxsOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAubGluay1hY3Rpb25zIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZ2FwOiAxMHB4OwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuYWN0aW9uLWJ0biB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDIyMDA7CiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxMnB4OwogICAgICAgICAgICBmb250LXNpemU6IDAuOHJlbTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmVtcHR5LXN0YXRlIHsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICBjb2xvcjogIzAwODgwMDsKICAgICAgICAgICAgZm9udC1zdHlsZTogaXRhbGljOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmb290ZXIgewogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDUwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgICAgIGNvbG9yOiAjMDA4ODAwOwogICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTsKICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMwMDMzMDA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jcmVkaXQgewogICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAgICAgICBmb250LXNpemU6IDAuOHJlbTsKICAgICAgICAgICAgY29sb3I6ICMwMGFhMDA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jcmVkaXQgYSB7CiAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGNvbG9yIDAuM3M7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jcmVkaXQgYTpob3ZlciB7CiAgICAgICAgICAgIGNvbG9yOiAjMDBjYzAwOwogICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmVycm9yIHsKICAgICAgICAgICAgY29sb3I6ICNmZjMzMDA7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkgewogICAgICAgICAgICBoMSB7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDJyZW07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC51cmwtZm9ybSwgLnJlY2VudC1saW5rcyB7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAubGluay1pdGVtIHsKICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLmxpbmstYWN0aW9ucyB7CiAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGRpdiBjbGFzcz0ibWF0cml4LWJnIiBpZD0ibWF0cml4LWJnIj48L2Rpdj4KICAgIAogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIj4KICAgICAgICA8aGVhZGVyPgogICAgICAgICAgICA8aDE+Ti1IQUNLRVI8L2gxPgogICAgICAgICAgICA8cCBjbGFzcz0idGFnbGluZSI+Ly8gU2VjdXJlIFVSTCBTaG9ydGVuaW5nIFNlcnZpY2U8L3A+CiAgICAgICAgPC9oZWFkZXI+CiAgICAgICAgCiAgICAgICAgPG1haW4+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InVybC1mb3JtIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9InVybC1pbnB1dCI+RW50ZXIgVVJMIFRvIFNob3J0ZW46PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idXJsIiBpZD0idXJsLWlucHV0IiBwbGFjZWhvbGRlcj0iaHR0cHM6Ly9leGFtcGxlLmNvbSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InNob3J0ZW4tYnRuIj5TSE9SVEVOPC9idXR0b24+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJlcnJvciIgaWQ9ImVycm9yLW1zZyI+PC9kaXY+CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJlc3VsdCIgaWQ9InJlc3VsdCI+CiAgICAgICAgICAgICAgICAgICAgPGgzPlNob3J0ZW5lZCBVUkw6PC9oMz4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzaG9ydC11cmwiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNvcHktYnRuIiBpZD0iY29weS1idG4iPkNvcHkgdG8gQ2xpcGJvYXJkPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZWNlbnQtbGlua3MiPgogICAgICAgICAgICAgICAgPGgyPlJlY2VudCBMaW5rczwvaDI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJsaW5rcy1saXN0IiBpZD0ibGlua3MtbGlzdCI+CiAgICAgICAgICAgICAgICAgICAgPCEtLSBSZWNlbnQgbGlua3Mgd2lsbCBiZSBkeW5hbWljYWxseSBhZGRlZCBoZXJlIC0tPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvbWFpbj4KICAgICAgICAKICAgICAgICA8Zm9vdGVyPgogICAgICAgICAgICA8cD5DeWJlckxpbmsgJmNvcHk7IDIwMjUgfCBTZWN1cmUgVVJMIFNob3J0ZW5pbmcgU2VydmljZTwvcD4KICAgICAgICAgICAgPHA+UG93ZXJlZCBieSBUaW55VVJMIEFQSTwvcD4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3JlZGl0Ij4KICAgICAgICAgICAgICAgIENyZWF0ZWQgYnkgPGEgaHJlZj0iaHR0cHM6Ly90Lm1lL05SX0hBQ0tFUiIgdGFyZ2V0PSJfYmxhbmsiPkBOUl9IQUNLRVI8L2E+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZm9vdGVyPgogICAgPC9kaXY+CgogICAgPHNjcmlwdD4KICAgICAgICAvLyBNYXRyaXggYmFja2dyb3VuZCBlZmZlY3QKICAgICAgICBjb25zdCBtYXRyaXhCZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXRyaXgtYmcnKTsKICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICBtYXRyaXhCZy5hcHBlbmRDaGlsZChjYW52YXMpOwogICAgICAgIAogICAgICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7CiAgICAgICAgCiAgICAgICAgY29uc3QgY2hhcnMgPSAiMDEiOwogICAgICAgIGNvbnN0IGNoYXJBcnJheSA9IGNoYXJzLnNwbGl0KCIiKTsKICAgICAgICBjb25zdCBmb250U2l6ZSA9IDE0OwogICAgICAgIGNvbnN0IGNvbHVtbnMgPSBjYW52YXMud2lkdGggLyBmb250U2l6ZTsKICAgICAgICBjb25zdCBkcm9wcyA9IFtdOwogICAgICAgIAogICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjb2x1bW5zOyBpKyspIHsKICAgICAgICAgICAgZHJvcHNbaV0gPSAxOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBkcmF3TWF0cml4KCkgewogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gInJnYmEoMCwgMTAsIDAsIDAuMDQpIjsKICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gIiMwMGZmMDAiOwogICAgICAgICAgICBjdHguZm9udCA9IGZvbnRTaXplICsgInB4IG1vbm9zcGFjZSI7CiAgICAgICAgICAgIAogICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZHJvcHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBjaGFyQXJyYXlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhckFycmF5Lmxlbmd0aCldOwogICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KHRleHQsIGkgKiBmb250U2l6ZSwgZHJvcHNbaV0gKiBmb250U2l6ZSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmKGRyb3BzW2ldICogZm9udFNpemUgPiBjYW52YXMuaGVpZ2h0ICYmIE1hdGgucmFuZG9tKCkgPiAwLjk3NSkgewogICAgICAgICAgICAgICAgICAgIGRyb3BzW2ldID0gMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZHJvcHNbaV0rKzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBzZXRJbnRlcnZhbChkcmF3TWF0cml4LCAzNSk7CiAgICAgICAgCiAgICAgICAgLy8gVVJMIHNob3J0ZW5pbmcgZnVuY3Rpb25hbGl0eQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9ydGVuLWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvcnRlblVybCk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcHktYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjb3B5VG9DbGlwYm9hcmQpOwogICAgICAgIAogICAgICAgIC8vIExvYWQgcmVjZW50IGxpbmtzIG9uIHBhZ2UgbG9hZAogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBsb2FkUmVjZW50TGlua3MpOwogICAgICAgIAogICAgICAgIC8vIFN0b3JlIGZvciByZWNlbnQgbGlua3MKICAgICAgICBsZXQgcmVjZW50TGlua3MgPSBbXTsKICAgICAgICAKICAgICAgICBhc3luYyBmdW5jdGlvbiBzaG9ydGVuVXJsKCkgewogICAgICAgICAgICBjb25zdCB1cmxJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cmwtaW5wdXQnKTsKICAgICAgICAgICAgY29uc3QgcmVzdWx0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdCcpOwogICAgICAgICAgICBjb25zdCBzaG9ydFVybERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9ydC11cmwnKTsKICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3ItbXNnJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCB1cmwgPSB1cmxJbnB1dC52YWx1ZS50cmltKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSZXNldAogICAgICAgICAgICBlcnJvck1zZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICByZXN1bHREaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFZhbGlkYXRlIFVSTAogICAgICAgICAgICBpZiAoIXVybCkgewogICAgICAgICAgICAgICAgc2hvd0Vycm9yKCdQbGVhc2UgZW50ZXIgYSBVUkwnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCFpc1ZhbGlkVXJsKHVybCkpIHsKICAgICAgICAgICAgICAgIHNob3dFcnJvcignUGxlYXNlIGVudGVyIGEgdmFsaWQgVVJMIChpbmNsdWRlIGh0dHA6Ly8gb3IgaHR0cHM6Ly8pJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAvLyBVc2UgVGlueVVSTCBBUEkKICAgICAgICAgICAgICAgIGNvbnN0IGFwaVVybCA9IGBodHRwczovL3Rpbnl1cmwuY29tL2FwaS1jcmVhdGUucGhwP3VybD0ke2VuY29kZVVSSUNvbXBvbmVudCh1cmwpfWA7CiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzaG9ydGVuIFVSTCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBzaG9ydFVybCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gRGlzcGxheSByZXN1bHQKICAgICAgICAgICAgICAgIHNob3J0VXJsRGl2LnRleHRDb250ZW50ID0gc2hvcnRVcmw7CiAgICAgICAgICAgICAgICByZXN1bHREaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSBpbnB1dCBmaWVsZAogICAgICAgICAgICAgICAgdXJsSW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gU2F2ZSB0byByZWNlbnQgbGlua3MKICAgICAgICAgICAgICAgIHNhdmVUb1JlY2VudExpbmtzKHVybCwgc2hvcnRVcmwpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBzaG93RXJyb3IoJ0Vycm9yIHNob3J0ZW5pbmcgVVJMLiBQbGVhc2UgdHJ5IGFnYWluLicpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGlzVmFsaWRVcmwoc3RyaW5nKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBuZXcgVVJMKHN0cmluZyk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfSBjYXRjaCAoXykgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHNob3dFcnJvcihtZXNzYWdlKSB7CiAgICAgICAgICAgIGNvbnN0IGVycm9yTXNnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yLW1zZycpOwogICAgICAgICAgICBlcnJvck1zZy50ZXh0Q29udGVudCA9IG1lc3NhZ2U7CiAgICAgICAgICAgIGVycm9yTXNnLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBjb3B5VG9DbGlwYm9hcmQoKSB7CiAgICAgICAgICAgIGNvbnN0IHNob3J0VXJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob3J0LXVybCcpLnRleHRDb250ZW50OwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ3JlYXRlIGEgdGVtcG9yYXJ5IHRleHRhcmVhIGVsZW1lbnQKICAgICAgICAgICAgY29uc3QgdGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpOwogICAgICAgICAgICB0ZXh0QXJlYS52YWx1ZSA9IHNob3J0VXJsOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKTsKICAgICAgICAgICAgdGV4dEFyZWEuc2VsZWN0KCk7CiAgICAgICAgICAgIAogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgLy8gVHJ5IHVzaW5nIHRoZSBtb2Rlcm4gY2xpcGJvYXJkIEFQSQogICAgICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc2Z1bCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7CiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc2Z1bCkgewogICAgICAgICAgICAgICAgICAgIC8vIFNob3cgY29waWVkIG1lc3NhZ2UKICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3B5QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcHktYnRuJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gY29weUJ0bi50ZXh0Q29udGVudDsKICAgICAgICAgICAgICAgICAgICBjb3B5QnRuLnRleHRDb250ZW50ID0gJ0NvcGllZCEnOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb3B5QnRuLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0OwogICAgICAgICAgICAgICAgICAgIH0sIDIwMDApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvcHkgY29tbWFuZCBmYWlsZWQnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGV4ZWNDb21tYW5kCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWxsYmFjazogT29wcywgdW5hYmxlIHRvIGNvcHknLCBlcnIpOwogICAgICAgICAgICAgICAgYWxlcnQoJ0ZhaWxlZCB0byBjb3B5IFVSTC4gUGxlYXNlIGNvcHkgaXQgbWFudWFsbHkuJyk7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cAogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0QXJlYSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc2F2ZVRvUmVjZW50TGlua3Mob3JpZ2luYWxVcmwsIHNob3J0VXJsKSB7CiAgICAgICAgICAgIC8vIENyZWF0ZSBsaW5rIG9iamVjdAogICAgICAgICAgICBjb25zdCBsaW5rID0gewogICAgICAgICAgICAgICAgb3JpZ2luYWw6IG9yaWdpbmFsVXJsLAogICAgICAgICAgICAgICAgc2hvcnQ6IHNob3J0VXJsLAogICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIExvYWQgZXhpc3RpbmcgbGlua3MKICAgICAgICAgICAgY29uc3Qgc3RvcmVkTGlua3MgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3liZXJsaW5rLXJlY2VudC1saW5rcycpOwogICAgICAgICAgICBpZiAoc3RvcmVkTGlua3MpIHsKICAgICAgICAgICAgICAgIHJlY2VudExpbmtzID0gSlNPTi5wYXJzZShzdG9yZWRMaW5rcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEFkZCBuZXcgbGluayB0byBiZWdpbm5pbmcgb2YgYXJyYXkKICAgICAgICAgICAgcmVjZW50TGlua3MudW5zaGlmdChsaW5rKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEtlZXAgb25seSBsYXN0IDEwIGxpbmtzCiAgICAgICAgICAgIGlmIChyZWNlbnRMaW5rcy5sZW5ndGggPiAxMCkgewogICAgICAgICAgICAgICAgcmVjZW50TGlua3MgPSByZWNlbnRMaW5rcy5zbGljZSgwLCAxMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFNhdmUgYmFjayB0byBsb2NhbFN0b3JhZ2UKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N5YmVybGluay1yZWNlbnQtbGlua3MnLCBKU09OLnN0cmluZ2lmeShyZWNlbnRMaW5rcykpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gVXBkYXRlIFVJCiAgICAgICAgICAgIGxvYWRSZWNlbnRMaW5rcygpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBsb2FkUmVjZW50TGlua3MoKSB7CiAgICAgICAgICAgIGNvbnN0IGxpbmtzTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW5rcy1saXN0Jyk7CiAgICAgICAgICAgIGNvbnN0IHN0b3JlZExpbmtzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N5YmVybGluay1yZWNlbnQtbGlua3MnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChzdG9yZWRMaW5rcykgewogICAgICAgICAgICAgICAgcmVjZW50TGlua3MgPSBKU09OLnBhcnNlKHN0b3JlZExpbmtzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ2xlYXIgY3VycmVudCBsaXN0CiAgICAgICAgICAgIGxpbmtzTGlzdC5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChyZWNlbnRMaW5rcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIGxpbmtzTGlzdC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0iZW1wdHktc3RhdGUiPk5vIHJlY2VudCBsaW5rcy4gU2hvcnRlbiBhIFVSTCB0byBzZWUgaXQgaGVyZS48L2Rpdj4nOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBBZGQgZWFjaCBsaW5rIHRvIHRoZSBsaXN0CiAgICAgICAgICAgIHJlY2VudExpbmtzLmZvckVhY2goKGxpbmssIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBsaW5rSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgbGlua0l0ZW0uY2xhc3NOYW1lID0gJ2xpbmstaXRlbSc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShsaW5rLnRpbWVzdGFtcCk7CiAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWREYXRlID0gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKSArICcgJyArIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7aG91cjogJzItZGlnaXQnLCBtaW51dGU6JzItZGlnaXQnfSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxpbmtJdGVtLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJsaW5rLXVybHMiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcmlnaW5hbC11cmwiPiR7bGluay5vcmlnaW5hbH08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2hvcnRlbmVkLXVybCI+JHtsaW5rLnNob3J0fTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJsaW5rLWRhdGUiIHN0eWxlPSJjb2xvcjogIzAwODgwMDsgZm9udC1zaXplOiAwLjhyZW07IG1hcmdpbi10b3A6IDVweDsiPiR7Zm9ybWF0dGVkRGF0ZX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJsaW5rLWFjdGlvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJhY3Rpb24tYnRuIGNvcHktbGluay1idG4iIGRhdGEtdXJsPSIke2xpbmsuc2hvcnR9Ij5Db3B5PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImFjdGlvbi1idG4gZGVsZXRlLWxpbmstYnRuIiBkYXRhLWluZGV4PSIke2luZGV4fSI+RGVsZXRlPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsaW5rc0xpc3QuYXBwZW5kQ2hpbGQobGlua0l0ZW0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnMgdG8gYWN0aW9uIGJ1dHRvbnMKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvcHktbGluay1idG4nKS5mb3JFYWNoKGJ0biA9PiB7CiAgICAgICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS11cmwnKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSB0ZW1wb3JhcnkgdGV4dGFyZWEgZWxlbWVudAogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTsKICAgICAgICAgICAgICAgICAgICB0ZXh0QXJlYS52YWx1ZSA9IHVybDsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKTsKICAgICAgICAgICAgICAgICAgICB0ZXh0QXJlYS5zZWxlY3QoKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdXNpbmcgdGhlIG1vZGVybiBjbGlwYm9hcmQgQVBJCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NmdWwgPSBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc2Z1bCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0Q29udGVudCA9ICdDb3BpZWQhJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dENvbnRlbnQgPSAnQ29weSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29weSBjb21tYW5kIGZhaWxlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIGZvciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgZXhlY0NvbW1hbmQKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFsbGJhY2s6IE9vcHMsIHVuYWJsZSB0byBjb3B5JywgZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0ZhaWxlZCB0byBjb3B5IFVSTC4gUGxlYXNlIGNvcHkgaXQgbWFudWFsbHkuJyk7CiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0QXJlYSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRlbGV0ZS1saW5rLWJ0bicpLmZvckVhY2goYnRuID0+IHsKICAgICAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSk7CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlTGluayhpbmRleCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGRlbGV0ZUxpbmsoaW5kZXgpIHsKICAgICAgICAgICAgcmVjZW50TGlua3Muc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N5YmVybGluay1yZWNlbnQtbGlua3MnLCBKU09OLnN0cmluZ2lmeShyZWNlbnRMaW5rcykpOwogICAgICAgICAgICBsb2FkUmVjZW50TGlua3MoKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gQWxsb3cgcHJlc3NpbmcgRW50ZXIgdG8gc3VibWl0CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VybC1pbnB1dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHsKICAgICAgICAgICAgICAgIHNob3J0ZW5VcmwoKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIC8vIFJlc2l6ZSBjYW52YXMgd2hlbiB3aW5kb3cgcmVzaXplcwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7CiAgICAgICAgfSk7CiAgICA8L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+"));
</script>